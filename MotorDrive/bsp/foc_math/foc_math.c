#include "foc_math.h"

const int16_t sin_pi[sin_pi_d2_dpix+1]={
0 ,13 ,26 ,39 ,51 ,64 ,77 ,90 ,103 ,116 ,129 ,142 ,154 ,167 ,180 ,193 ,206 ,219 ,231 ,244 ,257 ,270 ,283 ,296 ,309 ,321 ,334 ,347 
,360 ,373 ,385 ,398 ,411 ,424 ,437 ,449 ,462 ,475 ,488 ,501 ,513 ,526 ,539 ,552 ,564 ,577 ,590 ,603 ,615 ,628 ,641 ,653 ,666 
,679 ,692 ,704 ,717 ,730 ,742 ,755 ,768 ,780 ,793 ,805 ,818 ,831 ,843 ,856 ,868 ,881 ,894 ,906 ,919 ,931 ,944 ,956 ,969 ,981 ,994 
,1006 ,1019 ,1031 ,1044 ,1056 ,1068 ,1081 ,1093 ,1106 ,1118 ,1130 ,1143 ,1155 ,1167 ,1180 ,1192 ,1204 ,1217 ,1229 ,1241 ,1253 ,1266 
,1278 ,1290 ,1302 ,1315 ,1327 ,1339 ,1351 ,1363 ,1375 ,1387 ,1400 ,1412 ,1424 ,1436 ,1448 ,1460 ,1472 ,1484 ,1496 ,1508 ,1520 
,1532 ,1544 ,1556 ,1567 ,1579 ,1591 ,1603 ,1615 ,1627 ,1639 ,1650 ,1662 ,1674 ,1686 ,1697 ,1709 ,1721 ,1732 ,1744 ,1756 ,1767 
,1779 ,1790 ,1802 ,1814 ,1825 ,1837 ,1848 ,1860 ,1871 ,1882 ,1894 ,1905 ,1917 ,1928 ,1939 ,1951 ,1962 ,1973 ,1985 ,1996 ,2007 
,2018 ,2029 ,2041 ,2052 ,2063 ,2074 ,2085 ,2096 ,2107 ,2118 ,2129 ,2140 ,2151 ,2162 ,2173 ,2184 ,2195 ,2206 ,2216 ,2227 ,2238 
,2249 ,2260 ,2270 ,2281 ,2292 ,2302 ,2313 ,2324 ,2334 ,2345 ,2355 ,2366 ,2376 ,2387 ,2397 ,2408 ,2418 ,2428 ,2439 ,2449 ,2459 
,2470 ,2480 ,2490 ,2500 ,2510 ,2521 ,2531 ,2541 ,2551 ,2561 ,2571 ,2581 ,2591 ,2601 ,2611 ,2621 ,2631 ,2641 ,2650 ,2660 ,2670 
,2680 ,2689 ,2699 ,2709 ,2718 ,2728 ,2738 ,2747 ,2757 ,2766 ,2776 ,2785 ,2795 ,2804 ,2813 ,2823 ,2832 ,2841 ,2850 ,2860 ,2869 
,2878 ,2887 ,2896 ,2905 ,2914 ,2923 ,2932 ,2941 ,2950 ,2959 ,2968 ,2977 ,2986 ,2995 ,3003 ,3012 ,3021 ,3030 ,3038 ,3047 ,3055 
,3064 ,3072 ,3081 ,3089 ,3098 ,3106 ,3115 ,3123 ,3131 ,3140 ,3148 ,3156 ,3164 ,3172 ,3180 ,3189 ,3197 ,3205 ,3213 ,3221 ,3229 
,3236 ,3244 ,3252 ,3260 ,3268 ,3276 ,3283 ,3291 ,3299 ,3306 ,3314 ,3321 ,3329 ,3336 ,3344 ,3351 ,3359 ,3366 ,3373 ,3380 ,3388 
,3395 ,3402 ,3409 ,3416 ,3423 ,3431 ,3438 ,3445 ,3451 ,3458 ,3465 ,3472 ,3479 ,3486 ,3492 ,3499 ,3506 ,3512 ,3519 ,3526 ,3532 
,3539 ,3545 ,3552 ,3558 ,3564 ,3571 ,3577 ,3583 ,3589 ,3596 ,3602 ,3608 ,3614 ,3620 ,3626 ,3632 ,3638 ,3644 ,3650 ,3655 ,3661 
,3667 ,3673 ,3678 ,3684 ,3690 ,3695 ,3701 ,3706 ,3712 ,3717 ,3722 ,3728 ,3733 ,3738 ,3744 ,3749 ,3754 ,3759 ,3764 ,3769 ,3774 
,3779 ,3784 ,3789 ,3794 ,3799 ,3804 ,3808 ,3813 ,3818 ,3822 ,3827 ,3832 ,3836 ,3841 ,3845 ,3849 ,3854 ,3858 ,3862 ,3867 ,3871 
,3875 ,3879 ,3883 ,3887 ,3892 ,3896 ,3899 ,3903 ,3907 ,3911 ,3915 ,3919 ,3922 ,3926 ,3930 ,3933 ,3937 ,3940 ,3944 ,3947 ,3951 
,3954 ,3958 ,3961 ,3964 ,3967 ,3970 ,3974 ,3977 ,3980 ,3983 ,3986 ,3989 ,3992 ,3995 ,3997 ,4000 ,4003 ,4006 ,4008 ,4011 ,4013 
,4016 ,4019 ,4021 ,4023 ,4026 ,4028 ,4031 ,4033 ,4035 ,4037 ,4039 ,4041 ,4044 ,4046 ,4048 ,4050 ,4051 ,4053 ,4055 ,4057 ,4059 
,4060 ,4062 ,4064 ,4065 ,4067 ,4068 ,4070 ,4071 ,4073 ,4074 ,4075 ,4077 ,4078 ,4079 ,4080 ,4081 ,4082 ,4083 ,4084 ,4085 ,4086 
,4087 ,4088 ,4089 ,4089 ,4090 ,4091 ,4091 ,4092 ,4093 ,4093 ,4094 ,4094 ,4094 ,4095 ,4095 ,4095 ,4095 ,4096 ,4096 ,4096 ,4096 
,4096 };

float SquareRootFloat(float number)
{
    long i;
    float x, y;
    const float f = 1.5f;
 
    x = number * 0.5f;
    y  = number;
    i  = * ( long * ) &y;
    i  = 0x5f3759df - ( i >> 1 );  
//   i  = 0x5f375a86 - ( i >> 1 );  
    y  = * ( float * ) &i;
    y  = y * ( f - ( x * y * y ) );
    y  = y * ( f - ( x * y * y ) );
    return number * y;
}
